<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>CORPUS â€” Behold the Form</title>
  <meta name="description" content="A living digital portrait. Real-time anatomical visualization inspired by the Old Masters.">
  
  <!-- Luxury Museum Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=EB+Garamond:ital,wght@0,400;0,500;1,400;1,500&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;1,9..40,300;1,9..40,400&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
  
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://storage.googleapis.com">
  
  <link rel="stylesheet" href="styles/main.css">
  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='4' fill='%231A1410'/><circle cx='16' cy='10' r='3' fill='%23C9A227'/><line x1='16' y1='13' x2='16' y2='22' stroke='%23C9A227' stroke-width='2'/><line x1='10' y1='16' x2='22' y2='16' stroke='%23C9A227' stroke-width='2'/><line x1='12' y1='26' x2='16' y2='22' stroke='%23C9A227' stroke-width='2'/><line x1='20' y1='26' x2='16' y2='22' stroke='%23C9A227' stroke-width='2'/></svg>">
  
  <!-- GSAP Animation Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  
  <!-- Tone.js for Musical Body Instrument -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  
  <!-- PWA -->
  <meta name="theme-color" content="#1A1410">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
</head>
<body>
  <!-- ===================== INTRO SCREEN - GSAP FIRST EXPERIENCE ===================== -->
  <div id="intro-screen" class="intro-screen gsap-first-experience">
    <!-- Background layers -->
    <div class="intro-vignette"></div>
    <canvas id="intro-background-canvas" class="intro-background-canvas"></canvas>
    <div class="intro-dust" id="intro-dust"></div>
    
    <!-- Main content -->
    <div class="intro-content">
      <!-- Animated Vitruvian Logo -->
      <div class="intro-logo" id="intro-logo">
        <svg viewBox="0 0 100 100" class="logo-vitruvian" id="logo-vitruvian">
          <!-- Outer frame - DrawSVG animated -->
          <rect class="logo-frame-outer" x="5" y="5" width="90" height="90" rx="2" fill="none" stroke="currentColor" stroke-width="1" opacity="0.3"/>
          <rect class="logo-frame-inner" x="10" y="10" width="80" height="80" rx="1" fill="none" stroke="currentColor" stroke-width="0.5" opacity="0.2"/>
          <!-- Vitruvian figure - skeletal paths -->
          <circle class="logo-head" cx="50" cy="28" r="8" fill="none" stroke="currentColor" stroke-width="1.5"/>
          <line class="logo-spine" x1="50" y1="36" x2="50" y2="62" stroke="currentColor" stroke-width="1.5"/>
          <line class="logo-arm-left" x1="50" y1="42" x2="32" y2="52" stroke="currentColor" stroke-width="1.5"/>
          <line class="logo-arm-right" x1="50" y1="42" x2="68" y2="52" stroke="currentColor" stroke-width="1.5"/>
          <line class="logo-leg-left" x1="50" y1="62" x2="36" y2="85" stroke="currentColor" stroke-width="1.5"/>
          <line class="logo-leg-right" x1="50" y1="62" x2="64" y2="85" stroke="currentColor" stroke-width="1.5"/>
          <!-- Golden joints - elastic pop-in -->
          <circle class="logo-joint logo-joint-head" cx="50" cy="28" r="2" fill="currentColor" opacity="0.8"/>
          <circle class="logo-joint logo-joint-shoulders" cx="50" cy="42" r="2" fill="currentColor"/>
          <circle class="logo-joint logo-joint-hand-left" cx="32" cy="52" r="1.5" fill="currentColor"/>
          <circle class="logo-joint logo-joint-hand-right" cx="68" cy="52" r="1.5" fill="currentColor"/>
          <circle class="logo-joint logo-joint-hips" cx="50" cy="62" r="2" fill="currentColor"/>
        </svg>
      </div>
      
      <!-- CORPUS Title - Letter Assembly Animation -->
      <div class="intro-title-wrapper" id="intro-title-wrapper">
        <h1 class="intro-title" id="intro-title">CORPUS</h1>
      </div>
      
      <!-- Tagline with Typewriter Effect -->
      <div class="intro-tagline-wrapper" id="intro-tagline-wrapper">
        <p class="intro-tagline" id="intro-tagline">
          <span class="musical-note">â™©</span>
          Behold the form.
          <span class="musical-note">â™ª</span>
        </p>
      </div>
      
      <!-- Historical Quotes Rotation -->
      <div class="intro-history-text" id="intro-history-text">
        <p class="intro-history-quote" data-quote="1">"Music is the movement of sound to reach the soul."</p>
        <p class="intro-history-quote" data-quote="2">"The body is the harp of the soul."</p>
        <p class="intro-history-quote" data-quote="3">"Where words fail, music speaks."</p>
        <span class="intro-history-attribution" id="intro-history-attribution">â€” Plato, 400 BCE</span>
      </div>
      
      <!-- Portal Button - Circular Vitruvian Design -->
      <button id="enable-camera-btn" class="intro-portal-button">
        <div class="portal-circle">
          <!-- Animated rings -->
          <div class="portal-ring" id="portal-ring-outer"></div>
          <div class="portal-ring-inner" id="portal-ring-inner"></div>
          <!-- Vitruvian silhouette inside -->
          <svg class="portal-vitruvian" id="portal-vitruvian" viewBox="0 0 60 60">
            <circle cx="30" cy="12" r="5" fill="none" stroke="currentColor" stroke-width="1"/>
            <line x1="30" y1="17" x2="30" y2="38" stroke="currentColor" stroke-width="1"/>
            <line x1="30" y1="22" x2="18" y2="30" stroke="currentColor" stroke-width="1"/>
            <line x1="30" y1="22" x2="42" y2="30" stroke="currentColor" stroke-width="1"/>
            <line x1="30" y1="38" x2="20" y2="52" stroke="currentColor" stroke-width="1"/>
            <line x1="30" y1="38" x2="40" y2="52" stroke="currentColor" stroke-width="1"/>
          </svg>
          <!-- Button text -->
          <span class="portal-text">
            <span class="portal-text-inner" id="portal-text">Enter</span>
          </span>
        </div>
      </button>
      
      <!-- Privacy note -->
      <p class="intro-privacy" id="intro-privacy">
        Position yourself as you would for a portrait.<br>
        <span class="privacy-note">All processing occurs locally. Nothing leaves your device.</span>
      </p>
    </div>
    
    <!-- Footer -->
    <footer class="intro-footer" id="intro-footer">
      <span class="footer-brand">CORPUS Â· MMXXVI</span>
      <span class="footer-latin">Memento vivere</span>
    </footer>
    
    <!-- Scroll indicator -->
    <div class="intro-scroll-indicator" id="intro-scroll-indicator">
      <div class="scroll-line"></div>
      <span class="scroll-text">Scroll to explore</span>
    </div>
  </div>

  <!-- ===================== MAIN APPLICATION ===================== -->
  <div id="main-app" class="main-app hidden">
    
    <!-- Ornate Frame Border -->
    <div class="frame-border frame-top"></div>
    <div class="frame-border frame-bottom"></div>
    <div class="frame-border frame-left"></div>
    <div class="frame-border frame-right"></div>
    
    <!-- Header -->
    <header class="app-header">
      <div class="header-brand">
        <span class="brand-name">CORPUS</span>
        <span class="brand-separator">Â·</span>
        <span id="mode-latin" class="mode-latin">WAITING</span>
      </div>
      
      <div class="header-actions">
        <div class="header-status">
          <span class="status-dot" id="status-dot"></span>
          <span class="status-text" id="status-text">Seeking presence</span>
        </div>
        <button id="help-btn" class="help-btn" aria-label="Help & Guide" title="Gesture Guide">?</button>
        <button id="sound-toggle" class="header-btn sound-toggle" aria-label="Toggle sound" title="Musical Body Instrument">
          <svg class="icon-sound-on" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
          <svg class="icon-sound-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <line x1="23" y1="9" x2="17" y2="15"/>
            <line x1="17" y1="9" x2="23" y2="15"/>
          </svg>
        </button>
        <button id="fullscreen-toggle" class="header-btn fullscreen-toggle" aria-label="Toggle fullscreen">
          <svg class="icon-expand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="15 3 21 3 21 9"/>
            <polyline points="9 21 3 21 3 15"/>
            <line x1="21" y1="3" x2="14" y2="10"/>
            <line x1="3" y1="21" x2="10" y2="14"/>
          </svg>
          <svg class="icon-compress" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="4 14 10 14 10 20"/>
            <polyline points="20 10 14 10 14 4"/>
            <line x1="14" y1="10" x2="21" y2="3"/>
            <line x1="3" y1="21" x2="10" y2="14"/>
          </svg>
        </button>
        <button id="theme-toggle" class="header-btn theme-toggle" aria-label="Toggle theme">
          <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Main Canvas Area -->
    <main class="app-main">
      <canvas id="main-canvas" class="main-canvas"></canvas>
      <video id="camera-video" class="camera-video-hidden" autoplay playsinline muted></video>
      
      <!-- Detection Status Panel â€” Louvre-Quality Glassmorphism Design -->
      <aside id="detection-panel" class="detection-panel">
        <!-- Golden accent line -->
        <div class="panel-accent"></div>
        
        <!-- Header with status -->
        <header class="panel-header">
          <span class="panel-ornament">â—†</span>
          <span class="panel-title">CORPUS</span>
          <span class="panel-ornament">â—†</span>
          <span id="panel-status-dot" class="panel-status-dot"></span>
        </header>
        
        <!-- LEFT/RIGHT Hand Gesture Visualization -->
        <section class="gesture-display">
          <div class="dual-gesture-container">
            <!-- LEFT HAND -->
            <div class="hand-indicator">
              <span class="hand-label">L</span>
              <div id="left-hand-icon" class="hand-icon">
                <svg viewBox="0 0 32 32" class="fist-icon">
                  <path d="M16 6 C11 6 8 11 8 17 V23 C8 26 11 29 16 29 C21 29 24 26 24 23 V17 C24 11 21 6 16 6 Z" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                <svg viewBox="0 0 32 32" class="palm-icon">
                  <g fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
                    <path d="M16 28 V18"/>
                    <path d="M11 28 L9 12 V7"/>
                    <path d="M21 28 L23 12 V7"/>
                    <path d="M6 26 L5 14 V10"/>
                    <path d="M26 26 L27 14 V10"/>
                  </g>
                </svg>
              </div>
              <span id="left-gesture-state" class="gesture-state">â€”</span>
            </div>
            
            <!-- RIGHT HAND -->
            <div class="hand-indicator">
              <span class="hand-label">R</span>
              <div id="right-hand-icon" class="hand-icon">
                <svg viewBox="0 0 32 32" class="fist-icon">
                  <path d="M16 6 C11 6 8 11 8 17 V23 C8 26 11 29 16 29 C21 29 24 26 24 23 V17 C24 11 21 6 16 6 Z" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                <svg viewBox="0 0 32 32" class="palm-icon">
                  <g fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
                    <path d="M16 28 V18"/>
                    <path d="M11 28 L9 12 V7"/>
                    <path d="M21 28 L23 12 V7"/>
                    <path d="M6 26 L5 14 V10"/>
                    <path d="M26 26 L27 14 V10"/>
                  </g>
                </svg>
              </div>
              <span id="right-gesture-state" class="gesture-state">â€”</span>
            </div>
          </div>
          <span id="gesture-label" class="gesture-label">AWAITING</span>
        </section>
        
        <!-- Divider -->
        <div class="panel-divider"></div>
        
        <!-- Detection Status -->
        <section class="detection-status">
          <div class="status-row">
            <span class="status-label">Body</span>
            <span class="status-track">
              <span id="body-indicator" class="status-indicator"></span>
            </span>
            <span id="body-status" class="status-value">â€”</span>
          </div>
          <div class="status-row">
            <span class="status-label">Hands</span>
            <span class="status-track">
              <span id="hands-indicator" class="status-indicator"></span>
            </span>
            <span id="hands-status" class="status-value">â€”</span>
          </div>
          <div class="status-row">
            <span class="status-label">Face</span>
            <span class="status-track">
              <span id="face-indicator" class="status-indicator"></span>
            </span>
            <span id="face-status" class="status-value">â€”</span>
          </div>
        </section>
        
        <!-- Landmark Counter -->
        <details class="landmark-details">
          <summary class="details-toggle">
            <span class="toggle-label">Landmarks</span>
            <span id="landmark-count" class="toggle-count">0</span>
          </summary>
          <div class="landmark-breakdown">
            <div class="breakdown-row">
              <span>Body</span>
              <span id="body-landmarks">0</span>
            </div>
            <div class="breakdown-row">
              <span>Hands</span>
              <span id="hand-landmarks">0</span>
            </div>
            <div class="breakdown-row">
              <span>Face</span>
              <span id="face-landmarks">0</span>
            </div>
          </div>
        </details>
        
        <!-- Footer -->
        <footer class="panel-footer">
          <span class="particle-label">Particles</span>
          <span id="particle-count" class="particle-count">0</span>
        </footer>
      </aside>
    </main>

    <!-- Footer â€” AWWWARDS-Quality 3-Section Design -->
    <footer class="corpus-footer" role="contentinfo">
      
      <!-- Section 1: Tracking Status (Left) -->
      <div class="footer-section footer-tracking">
        <span class="section-label">TRACKING</span>
        <div class="tracking-indicators">
          <div class="tracking-item" id="track-body" data-tooltip="Body tracking - 33 landmarks">
            <span class="tracking-dot"></span>
            <span class="tracking-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="5" r="3"/>
                <path d="M12 8v8M8 12h8M8 20l4-4 4 4"/>
              </svg>
            </span>
            <span class="tracking-label">Body</span>
          </div>
          <div class="tracking-item" id="track-hands" data-tooltip="Hand tracking - gestures enabled">
            <span class="tracking-dot"></span>
            <span class="tracking-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M18 11V6a2 2 0 0 0-4 0v5M14 10V4a2 2 0 0 0-4 0v11M10 10V6a2 2 0 0 0-4 0v8a8 8 0 0 0 16 0v-3a2 2 0 0 0-4 0"/>
              </svg>
            </span>
            <span class="tracking-label">Hands</span>
          </div>
          <div class="tracking-item" id="track-face" data-tooltip="Face tracking - expressions detected">
            <span class="tracking-dot"></span>
            <span class="tracking-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="9" cy="10" r="1" fill="currentColor"/>
                <circle cx="15" cy="10" r="1" fill="currentColor"/>
                <path d="M8 15c1 2 3 3 4 3s3-1 4-3"/>
              </svg>
            </span>
            <span class="tracking-label">Face</span>
          </div>
        </div>
      </div>

      <!-- Section 2: Controls (Center) -->
      <div class="footer-section footer-controls">
        <!-- Sound Toggle -->
        <button class="control-btn" id="footer-sound-toggle" data-tooltip="Toggle musical instrument (S key)" aria-pressed="false">
          <span class="control-icon control-icon-on">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M11 5L6 9H2v6h4l5 4V5z"/>
              <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
            </svg>
          </span>
          <span class="control-icon control-icon-off">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M11 5L6 9H2v6h4l5 4V5z"/>
              <line x1="23" y1="9" x2="17" y2="15"/>
              <line x1="17" y1="9" x2="23" y2="15"/>
            </svg>
          </span>
          <span class="control-text">
            <span class="control-label">Sound</span>
            <span class="control-state" id="sound-state">OFF</span>
          </span>
        </button>

        <!-- Scale Selector -->
        <div class="control-item control-scale" id="footer-scale-control" data-tooltip="Musical scale - use ðŸ¤Ÿ gesture to change">
          <span class="control-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <rect x="2" y="10" width="3" height="10" rx="1"/>
              <rect x="6" y="6" width="3" height="14" rx="1"/>
              <rect x="10" y="8" width="3" height="12" rx="1"/>
              <rect x="14" y="4" width="3" height="16" rx="1"/>
              <rect x="18" y="7" width="3" height="13" rx="1"/>
            </svg>
          </span>
          <span class="control-text">
            <span class="control-label">Scale</span>
            <select id="scale-select" class="control-select">
              <option value="pentatonic">Pentatonic</option>
              <option value="minor">Minor</option>
              <option value="major">Major</option>
              <option value="blues">Blues</option>
              <option value="japanese">Japanese</option>
              <option value="dorian">Dorian</option>
            </select>
          </span>
        </div>

        <!-- Spark Status -->
        <div class="control-item control-sparks" id="footer-spark-status" data-tooltip="Make a fist to summon sparks">
          <span class="control-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 2L9 12h6L9 22l3-10H6l6-10z"/>
            </svg>
          </span>
          <span class="control-text">
            <span class="control-label">Sparks</span>
            <span class="control-state" id="spark-state">Ready</span>
          </span>
        </div>
      </div>

      <!-- Section 3: Info (Right) -->
      <div class="footer-section footer-info">
        <button class="info-btn" id="footer-help-btn" data-tooltip="Help & Guide (H key)" aria-label="Open help guide">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <circle cx="12" cy="17" r="0.5" fill="currentColor"/>
          </svg>
        </button>
        <span class="fps-display" id="footer-fps">-- fps</span>
      </div>
    </footer>
  </div>

  <!-- ===================== LOADING OVERLAY ===================== -->
  <div id="loading-overlay" class="loading-overlay hidden">
    <div class="loading-content">
      <div class="loading-candle">
        <div class="candle-flame"></div>
        <div class="candle-body"></div>
      </div>
      <p id="loading-text" class="loading-text">Preparing the studio...</p>
      <div class="loading-bar-container">
        <div id="loading-bar" class="loading-bar"></div>
      </div>
    </div>
  </div>
  
  <!-- ===================== AWAKENING LOADING SCREEN â€” GSAP-FIRST EXPERIENCE ===================== -->
  <div id="awakening-overlay" class="awakening-overlay gsap-first-experience hidden">
    <!-- Ambient particles layer -->
    <div class="awakening-particles"></div>
    
    <div class="awakening-content">
      <!-- History of Music Text -->
      <p class="loading-history-text" id="loading-history-text">
        "Since the dawn of humanity, we have expressed ourselves through movement and sound..."
      </p>
      
      <!-- Instrument Icons - Phase Indicators -->
      <div class="loading-instrument-icons" id="loading-instrument-icons">
        <!-- Drums (0-25%) -->
        <div class="instrument-icon" id="instrument-drums" data-phase="drums">
          <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
            <ellipse cx="24" cy="32" rx="18" ry="8"/>
            <path d="M6,32 L6,16 A18,8 0 0,1 42,16 L42,32"/>
            <ellipse cx="24" cy="16" rx="18" ry="8"/>
            <line x1="14" y1="8" x2="14" y2="2"/>
            <line x1="34" y1="8" x2="34" y2="2"/>
            <circle cx="14" cy="2" r="2"/>
            <circle cx="34" cy="2" r="2"/>
          </svg>
        </div>
        <!-- Strings (25-50%) -->
        <div class="instrument-icon" id="instrument-strings" data-phase="strings">
          <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M12,4 Q8,24 12,44"/>
            <path d="M36,4 Q40,24 36,44"/>
            <ellipse cx="24" cy="34" rx="12" ry="10"/>
            <ellipse cx="24" cy="34" rx="4" ry="3"/>
            <line x1="12" y1="4" x2="36" y2="4"/>
            <line x1="16" y1="4" x2="16" y2="24"/>
            <line x1="24" y1="4" x2="24" y2="24"/>
            <line x1="32" y1="4" x2="32" y2="24"/>
          </svg>
        </div>
        <!-- Wind (50-75%) -->
        <div class="instrument-icon" id="instrument-wind" data-phase="wind">
          <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M8,8 L8,40 A4,4 0 0,0 16,40 L16,8"/>
            <path d="M20,12 L20,36 A3,3 0 0,0 26,36 L26,12"/>
            <path d="M30,16 L30,32 A2,2 0 0,0 34,32 L34,16"/>
            <path d="M38,20 L38,28 A1.5,1.5 0 0,0 41,28 L41,20"/>
            <ellipse cx="12" cy="44" rx="6" ry="2"/>
          </svg>
        </div>
        <!-- Synth/Modern (75-100%) -->
        <div class="instrument-icon" id="instrument-synth" data-phase="synth">
          <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="4" y="16" width="40" height="24" rx="2"/>
            <line x1="8" y1="24" x2="8" y2="36"/>
            <line x1="12" y1="24" x2="12" y2="36"/>
            <line x1="16" y1="24" x2="16" y2="32"/>
            <line x1="20" y1="24" x2="20" y2="36"/>
            <line x1="24" y1="24" x2="24" y2="32"/>
            <line x1="28" y1="24" x2="28" y2="36"/>
            <line x1="32" y1="24" x2="32" y2="32"/>
            <line x1="36" y1="24" x2="36" y2="36"/>
            <line x1="40" y1="24" x2="40" y2="32"/>
            <circle cx="36" cy="12" r="2"/>
            <circle cx="42" cy="12" r="2"/>
          </svg>
        </div>
        <!-- Human Silhouette (100% - merge) -->
        <div class="instrument-icon" id="instrument-human" data-phase="human">
          <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="24" cy="10" r="6"/>
            <line x1="24" y1="16" x2="24" y2="32"/>
            <line x1="24" y1="20" x2="14" y2="28"/>
            <line x1="24" y1="20" x2="34" y2="28"/>
            <line x1="24" y1="32" x2="16" y2="46"/>
            <line x1="24" y1="32" x2="32" y2="46"/>
          </svg>
        </div>
      </div>
      
      <!-- Animated Eye Symbol -->
      <div class="awakening-eye-container">
        <svg viewBox="0 0 120 80" class="awakening-eye-svg">
          <!-- Outer eye shape -->
          <path class="eye-outline" d="M10,40 Q60,0 110,40 Q60,80 10,40" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
          <!-- Inner eye shape -->
          <path class="eye-inner" d="M20,40 Q60,12 100,40 Q60,68 20,40" fill="none" stroke="currentColor" stroke-width="1" opacity="0.5"/>
          <!-- Iris circle -->
          <circle class="eye-iris" cx="60" cy="40" r="18" fill="none" stroke="currentColor" stroke-width="1.5"/>
          <!-- Pupil -->
          <circle class="eye-pupil" cx="60" cy="40" r="8" fill="currentColor"/>
          <!-- Highlight -->
          <circle class="eye-highlight" cx="54" cy="34" r="3" fill="rgba(255,255,255,0.8)"/>
          <!-- Golden rays (hidden until complete) -->
          <g class="eye-rays" opacity="0">
            <line x1="60" y1="0" x2="60" y2="-15" stroke="currentColor" stroke-width="1"/>
            <line x1="85" y1="10" x2="95" y2="0" stroke="currentColor" stroke-width="1"/>
            <line x1="100" y1="40" x2="115" y2="40" stroke="currentColor" stroke-width="1"/>
            <line x1="85" y1="70" x2="95" y2="80" stroke="currentColor" stroke-width="1"/>
            <line x1="60" y1="80" x2="60" y2="95" stroke="currentColor" stroke-width="1"/>
            <line x1="35" y1="70" x2="25" y2="80" stroke="currentColor" stroke-width="1"/>
            <line x1="20" y1="40" x2="5" y2="40" stroke="currentColor" stroke-width="1"/>
            <line x1="35" y1="10" x2="25" y2="0" stroke="currentColor" stroke-width="1"/>
          </g>
        </svg>
      </div>
      
      <!-- Progress Bar with Golden Shimmer -->
      <div class="loading-progress-bar" id="loading-progress-bar">
        <div class="loading-progress-fill" id="loading-progress-fill"></div>
      </div>
      
      <!-- Progress Percentage -->
      <div class="awakening-progress-container">
        <div class="awakening-progress-info">
          <span id="awakening-percent" class="awakening-percent">0</span>
          <span class="awakening-percent-symbol">%</span>
        </div>
      </div>
      
      <!-- Status Text with Phase Messages -->
      <p id="awakening-status" class="awakening-status loading-status-message">Awakening the instruments...</p>
    </div>
  </div>

  <!-- ===================== CINEMA MODE OVERLAYS ===================== -->
  <div class="cinema-vignette"></div>
  <div class="cinema-grain"></div>
  <div class="cinema-letterbox top"></div>
  <div class="cinema-letterbox bottom"></div>
  <button class="cinema-exit" id="cinema-exit" aria-label="Exit cinema mode">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="18" y1="6" x2="6" y2="18"/>
      <line x1="6" y1="6" x2="18" y2="18"/>
    </svg>
  </button>

  <script type="module" src="js/app.js"></script>
</body>
</html>
